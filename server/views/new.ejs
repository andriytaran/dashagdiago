<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <!-- <base href="/"> -->

  <title>AgDiago</title>
  <meta name="description" content="">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Template Basic Images Start -->
  <meta property="og:image" content="path/to/image.jpg">
  <link rel="icon" href="img/favicon/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon-180x180.png">
  <!-- Template Basic Images End -->

  <!-- Custom Browsers Color Start -->
  <meta name="theme-color" content="#F4F7FC">
  <!-- Custom Browsers Color End -->
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
  <link rel="stylesheet" href="../updatedDesign/assets/css/bootstrap.min.css">

  <link rel="stylesheet" href="../updatedDesign/css/main.min.css">
  <script src="../updatedDesign/assets/js/jquery-3.4.0.min.js"></script>
  <script src="../updatedDesign/assets/js/jquery.selectric.js"></script>
  <script src="../updatedDesign/assets/js/bootstrap.bundle.min.js"></script>
  <script src="../updatedDesign/assets/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="../updatedDesign/assets/css/selectric.css">
</head>

<body>
<div class="wrap" id="mainSection">

  <%-partial('./partials/header')%>

  <section class="s-new-school">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 class="s-new-school__heading main-heading"><span>New school</span> Import Page</h1>
        </div>
        <div class="col-md-12">
          <div class="s-new-school__form-block">
            <form method="POST" action="" class="s-new-school__form new-school-form form">
              <div class="new-school-form__header">
                <div class="row align-items-center">
                  <div class="col-md-12 ">
                    <div class="new-school-form__heading">
                      Core atributes benchmark input
                    </div>
                  </div>
                </div>
              </div>
              <div class="new-school-form__body">
                <div class="new-school-form__group form__group">
                  <div class="row">
                    <div class="col-md-3 d-flex align-items-center">
                      <label for="schoolName" class="new-school-form__group-label form__group-label">Name of School *</label>
                    </div>
                    <div class="col-md-8">
                      <input type="text" required id="schoolName" name="schoolName" placeholder="Full School Name" class="new-school-form__group-input form__group-input">
                    </div>
                  </div>
                </div>
                <div class="new-school-form__group form__group">
                  <div class="row">
                    <div class="col-md-3 d-flex align-items-center">
                      <label for="schoolShortName" class="new-school-form__group-label form__group-label">Short name of School *</label>
                    </div>
                    <div class="col-md-8">
                      <input type="text" required id="schoolShortName" name="schoolShortName" placeholder="Short Name" class="new-school-form__group-input form__group-input">
                    </div>
                  </div>
                </div>
                <div class="new-school-form__group form__group">
                  <div class="row">
                    <div class="col-md-3 d-flex align-items-center">
                      <label class="new-school-form__group-label form__group-label">Folder Name</label>
                    </div>
                    <div class="col-md-8">
                      <input type="text" required id="schoolData" name="schoolData" placeholder="FTP folder name" class="new-school-form__group-input form__group-input">
                    </div>
                  </div>
                </div>
              </div>
              <div class="new-school-form__submit-btn-block form__submit-btn-block">
                <input id="importSchoolData" type="button" class="new-school-form__form-submit-btn form__submit-btn" value="Import">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<script src="../updatedDesign/constants.js"></script>
<script src="/../assets/js/app/api.js"></script>
<script src="../updatedDesign/js/common.js"></script>
<script src="../assets/plugins/jquery/jquery-3.3.1.min.js"></script>
<script src="../assets/plugins/jquery-ui/jquery-ui.min.js"></script>

<script>
  const button = document.getElementById('importSchoolData');
  button.addEventListener('click', function () {
    submit();
  });

  function submit() {
    button.setAttribute('disabled', true);
    const nameSchool = document.getElementById("schoolName").value;
    const shortNameSchool = document.getElementById("schoolShortName").value;
    const fileName = document.getElementById("schoolData").value;
    createNewSchool({shortNameSchool, nameSchool, fileName}, function () {
      button.setAttribute('disabled', false);
      setTimeout(function(){ window.location.assign(`/`) }, 1000);
    })
  }

</script>

</body>

</html>
